
<body style="">

  <div class="v4-line v4-widgets-line">
    <div class="line">
      <div class="column five seven">
        <div class="input-group tether-target tether-element-attached-top tether-element-attached-right tether-target-attached-bottom tether-target-attached-right tether-enabled">
          <input class="inpt  injectCSSPrevention " placeholder="test" type="Date" aria-label="" value="2025-02-10">
          <span class="suffix">
            <path fill-rule="evenodd" d="M8 1a1 1 0 0 1 1 1v1h6V2a1 1 0 1 1 2 0v1h2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h2V2a1 1 0 0 1 1-1Zm12 5v3H4V6a1 1 0 0 1 1-1h2v1a1 1 0 0 0 2 0V5h6v1a1 1 0 1 0 2 0V5h2a1 1 0 0 1 1 1Zm-4.625 7.963c-.2-.391-.512-.587-.939-.587-.427 0-.743.196-.95.587-.198.39-.298 1.07-.298 2.037 0 .967.1 1.646.299 2.037.206.391.522.587.95.587.426 0 .739-.196.938-.587.206-.39.31-1.07.31-2.037 0-.967-.104-1.646-.31-2.037Zm1.387 5.098c-.505.626-1.28.939-2.326.939-1.045 0-1.824-.313-2.336-.939-.505-.625-.757-1.646-.757-3.061s.252-2.436.757-3.061c.512-.626 1.29-.939 2.336-.939 1.046 0 1.82.313 2.326.939.511.625.767 1.646.767 3.061s-.256 2.436-.767 3.061Zm-10.08-3.818-.15-.406a.875.875 0 0 1-.032-.522.886.886 0 0 1 .256-.448l1.43-1.344a1.512 1.512 0 0 1 1.045-.416h.683c.17 0 .312.06.426.181a.6.6 0 0 1 .17.427v6.57a.602.602 0 0 1-.17.427.562.562 0 0 1-.426.181H9.23a.602.602 0 0 1-.597-.608v-5.077h-.02l-1.28 1.184a.38.38 0 0 1-.363.107.39.39 0 0 1-.288-.256Z" clip-rule="evenodd"></path>
          </span>
        </div>
      </div>
    </div>
    <div class="line">
      <input type="Date" id="AllowedDates" name="questionLabel" >
    </div>
    <div class="line">
      <input type="Date" id="AllowedDates1" name="questionLabel">
    </div>
    <div class="line">
      <input type="Date" id="AllowedDates2" name="questionLabel">
    </div>
  </div>



  <input type="button" id="addDateButton" value="+" >



  <script>
    document.getElementById('addDateButton').addEventListener('click', function() {
      const container = document.getElementById('allowedDatesContainer');
      document.innerHTML += `
        <input type="date" name="allowedDates">
        <input type="button" onclick="removeDateField(this)" value="-">
      `;
    });

    function removeDateField(button) {
      button.parentElement.remove();
    }

    document.getElementById('settings-form').addEventListener('submit', function(event) {
      event.preventDefault();

      const questionLabel = document.getElementById('questionLabel').value;
      const allowedDates = Array.from(document.getElementsByName('allowedDates')).map(input => input.value);

      // Emit settings to JotForm
      const settings = {
        QuestionLabel: questionLabel,
        AllowedDates: allowedDates.join(',')
      };
      JFCustomWidget.sendMessage(settings);

      alert('Settings saved successfully!');
    });

    // Load settings from JotForm
    JFCustomWidget.subscribe('ready', function() {
      const questionLabel = JFCustomWidget.getWidgetSetting('QuestionLabel');
      const allowedDates = JFCustomWidget.getWidgetSetting('AllowedDates');

      if (questionLabel) {
        document.getElementById('questionLabel').value = questionLabel;
      }
      if (allowedDates) {
        allowedDates.split(',').forEach(date => {
          const container = document.getElementById('allowedDatesContainer');
          const dateField = document.createElement('div');
          dateField.className = 'date-field';
          dateField.innerHTML = `
            <input type="date" name="allowedDates" value="${date}">
            <button type="button" onclick="removeDateField(this)">Remove</button>
          `;
          container.appendChild(dateField);
        });
      }
    });
  </script>


  
</body>
  
